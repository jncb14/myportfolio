<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Yuuji Digital Soulutions</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #1e3a8a; /* Navy Blue */
            --secondary: #3b82f6; /* Blue */
            --accent: #10b981; /* Green */
            --danger: #ef4444; /* Red */
            --dark: #0f172a; /* Dark Navy */
            --light: #f8fafc; /* White */
            --sidebar: #1e293b; /* Dark Blue */
            --sidebar-hover: #334155; /* Medium Blue */
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background-color: var(--dark);
            color: var(--light);
            font-family: 'Poppins', sans-serif;
            line-height: 1.6;
            position: relative;
            overflow-x: hidden;
        }
        
        /* Updated Background with Black Hole */
        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(135deg, var(--dark) 0%, #1e293b 100%);
            overflow: hidden;
        }
        
        .black-hole {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 800px;
            height: 800px;
            border-radius: 50%;
            background: radial-gradient(circle at center, 
                rgba(0, 0, 0, 0) 0%,
                rgba(0, 0, 0, 0.1) 20%,
                rgba(0, 0, 0, 0.3) 40%,
                rgba(0, 0, 0, 0.7) 60%,
                rgba(0, 0, 0, 0.9) 80%,
                rgba(0, 0, 0, 1) 100%);
            box-shadow: 0 0 150px rgba(0, 0, 0, 0.8);
            animation: black-hole-rotate 60s linear infinite;
        }
        
        .black-hole::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 600px;
            height: 600px;
            border-radius: 50%;
            background: radial-gradient(circle at center, 
                rgba(59, 130, 246, 0.1) 0%,
                rgba(59, 130, 246, 0.05) 30%,
                rgba(59, 130, 246, 0) 60%);
            box-shadow: 0 0 100px rgba(59, 130, 246, 0.3);
        }
        
        .black-hole::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 400px;
            height: 400px;
            border-radius: 50%;
            background: radial-gradient(circle at center, 
                rgba(16, 185, 129, 0.1) 0%,
                rgba(16, 185, 129, 0.05) 30%,
                rgba(16, 185, 129, 0) 60%);
            box-shadow: 0 0 80px rgba(16, 185, 129, 0.2);
        }
        
        @keyframes black-hole-rotate {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        .constellation {
            position: absolute;
            width: 100%;
            height: 100%;
        }
        
        .star {
            position: absolute;
            background-color: white;
            border-radius: 50%;
            animation: twinkle 4s infinite ease-in-out;
        }
        
        .star.small {
            width: 2px;
            height: 2px;
        }
        
        .star.medium {
            width: 3px;
            height: 3px;
        }
        
        .star.large {
            width: 4px;
            height: 4px;
        }
        
        .constellation-line {
            position: absolute;
            height: 1px;
            background: rgba(255, 255, 255, 0.3);
            transform-origin: 0 0;
        }
        
        @keyframes twinkle {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 1; }
        }
        
        /* Header */
        .navbar {
            background-color: rgba(15, 23, 42, 0.9);
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
            padding: 15px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            z-index: 1000;
        }
        
        .navbar-brand {
            font-weight: 700;
            color: var(--secondary);
            font-size: 1.8rem;
            letter-spacing: 1px;
            font-family: 'Montserrat', sans-serif;
        }
        
        .nav-link {
            font-weight: 500;
            color: #cbd5e1;
            margin: 0 10px;
        }
        
        .nav-link.active {
            color: var(--secondary);
        }
        
        .admin-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 30px;
            font-weight: 500;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .admin-btn:hover {
            background: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.3);
        }
        
        /* Hero Section */
        .hero {
            padding: 150px 0 100px;
            background: linear-gradient(135deg, rgba(15, 23, 42, 0.9), rgba(30, 58, 138, 0.8));
            color: white;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .hero h1 {
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: linear-gradient(90deg, var(--secondary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            font-family: 'Montserrat', sans-serif;
        }
        
        .hero p {
            font-size: 1.2rem;
            max-width: 600px;
            margin: 0 auto 2rem;
            opacity: 0.9;
        }
        
        .hero-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }
        
        .btn-primary {
            background: linear-gradient(90deg, var(--secondary), var(--primary));
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .btn-outline-primary {
            background: transparent;
            color: var(--secondary);
            border: 2px solid var(--secondary);
            padding: 12px 30px;
            border-radius: 30px;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .btn-outline-primary:hover {
            background: var(--secondary);
            color: white;
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }
        
        .btn-danger {
            background: var(--danger);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .btn-danger:hover {
            background: #dc2626;
            transform: translateY(-2px);
        }
        
        .btn-success {
            background: var(--accent);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 30px;
            font-weight: 600;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .btn-success:hover {
            background: #0d9668;
            transform: translateY(-2px);
        }
        
        /* Sections */
        .section {
            padding: 80px 0;
            background-color: rgba(15, 23, 42, 0.8);
        }
        
        /* Updated section title alignment */
        .section-title {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 3rem;
            text-align: left;
            color: var(--secondary);
            padding-left: 15px;
            position: relative;
            font-family: 'Montserrat', sans-serif;
        }
        
        .section-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 15px;
            width: 80px;
            height: 4px;
            background: linear-gradient(90deg, var(--secondary), var(--accent));
            border-radius: 2px;
        }
        
        .card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            margin-bottom: 30px;
            background-color: rgba(30, 41, 59, 0.8);
            color: var(--light);
            backdrop-filter: blur(10px);
        }
        
        .card-body {
            padding: 30px;
        }
        
        /* Services Section */
        .service-card {
            height: 100%;
            border-left: 4px solid var(--secondary);
            text-align: left;
        }
        
        .service-icon {
            font-size: 3rem;
            color: var(--secondary);
            margin-bottom: 20px;
            text-align: left;
        }
        
        .service-list {
            list-style: none;
            padding: 0;
            text-align: left;
        }
        
        .service-list li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .service-list li:last-child {
            border-bottom: none;
        }
        
        /* Projects */
        .project-img {
            height: 200px;
            border-radius: 15px 15px 0 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 4rem;
        }
        
        .project-img.company {
            background: linear-gradient(135deg, #1e3a8a, #3b82f6);
        }
        
        .project-img.ecommerce {
            background: linear-gradient(135deg, #10b981, #0d9668);
        }
        
        .project-img.management {
            background: linear-gradient(135deg, #f59e0b, #d97706);
        }
        
        /* Footer */
        .footer {
            background: rgba(15, 23, 42, 0.9);
            color: white;
            padding: 40px 0;
            text-align: center;
            border-top: 1px solid rgba(255,255,255,0.1);
        }
        
        /* Admin Panel */
        .admin-panel {
            display: none;
            min-height: 100vh;
            background: var(--dark);
        }
        
        .admin-sidebar {
            background: var(--sidebar);
            color: white;
            min-height: 100vh;
            padding: 0;
            width: 250px;
            position: fixed;
        }
        
        .admin-logo {
            padding: 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            text-align: center;
        }
        
        .admin-nav {
            padding: 20px 0;
        }
        
        .admin-nav-item {
            padding: 12px 20px;
            display: flex;
            align-items: center;
            color: rgba(255,255,255,0.7);
            text-decoration: none;
        }
        
        .admin-nav-item.active {
            background: var(--sidebar-hover);
            color: white;
            border-left: 4px solid var(--secondary);
        }
        
        .admin-nav-item i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }
        
        .admin-content {
            margin-left: 250px;
            padding: 30px;
            width: calc(100% - 250px);
        }
        
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .admin-title {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--secondary);
            font-family: 'Montserrat', sans-serif;
        }
        
        .admin-user {
            display: flex;
            align-items: center;
        }
        
        .admin-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--secondary);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
        }
        
        .logout-btn {
            background: var(--danger);
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 30px;
            font-weight: 500;
            margin-left: 15px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .logout-btn:hover {
            background: #dc2626;
        }
        
        .stats-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: var(--sidebar);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            border-left: 4px solid var(--secondary);
        }
        
        .stat-icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            background: rgba(59, 130, 246, 0.1);
            color: var(--secondary);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            font-size: 1.5rem;
        }
        
        .stat-info h3 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }
        
        .stat-info p {
            color: #cbd5e1;
            margin: 0;
        }
        
        .activity-card {
            background: var(--sidebar);
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            padding: 20px;
            border-left: 4px solid var(--secondary);
        }
        
        .activity-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .activity-title {
            font-weight: 600;
            color: var(--secondary);
        }
        
        .activity-date {
            color: #cbd5e1;
            font-size: 0.9rem;
        }
        
        .activity-description {
            color: #cbd5e1;
        }
        
        /* Tables */
        .admin-table {
            width: 100%;
            background: var(--sidebar);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
        }
        
        .admin-table th, .admin-table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .admin-table th {
            background: var(--primary);
            color: white;
            font-weight: 600;
        }
        
        .table-responsive {
            overflow-x: auto;
        }
        
        .status-badge {
            padding: 3px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }
        
        .status-pending {
            background: rgba(245, 158, 11, 0.2);
            color: #f59e0b;
        }
        
        .status-accepted {
            background: rgba(16, 185, 129, 0.2);
            color: var(--accent);
        }
        
        .status-rejected {
            background: rgba(239, 68, 68, 0.2);
            color: var(--danger);
        }
        
        .status-in-progress {
            background: rgba(59, 130, 246, 0.2);
            color: var(--secondary);
        }
        
        .status-completed {
            background: rgba(16, 185, 129, 0.2);
            color: var(--accent);
        }
        
        .status-paid {
            background: rgba(16, 185, 129, 0.2);
            color: var(--accent);
        }
        
        .status-cancelled {
            background: rgba(100, 116, 139, 0.2);
            color: #64748b;
        }
        
        /* Button Group for Actions */
        .btn-group-actions {
            display: flex;
            gap: 5px;
        }
        
        .btn-group-actions .btn {
            padding: 5px 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .btn-group-actions .btn:hover {
            transform: scale(1.05);
        }
        
        .btn-view {
            background: var(--secondary);
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 5px;
            font-size: 0.85rem;
            cursor: pointer;
        }
        
        .btn-delete {
            background: var(--danger);
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 5px;
            font-size: 0.85rem;
            cursor: pointer;
        }
        
        .btn-reply {
            background: var(--accent);
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 5px;
            font-size: 0.85rem;
            cursor: pointer;
        }
        
        .btn-edit {
            background: #f59e0b;
            color: #1e293b;
            border: none;
            padding: 5px 15px;
            border-radius: 5px;
            font-size: 0.85rem;
            cursor: pointer;
        }
        
        .btn-paid {
            background: var(--accent);
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 5px;
            font-size: 0.85rem;
            cursor: pointer;
        }
        
        .btn-accept {
            background: var(--accent);
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 5px;
            font-size: 0.85rem;
            cursor = pointer;
        }
        
        .btn-decline {
            background: var(--danger);
            color: white;
            border: none;
            padding: 5px 15px;
            border-radius: 5px;
            font-size: 0.85rem;
            cursor: pointer;
        }
        
        /* Pagination */
        .pagination-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
            gap: 15px;
        }
        
        .page-btn {
            background: var(--secondary);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .page-btn:hover {
            background: var(--primary);
        }
        
        .page-btn:disabled {
            background: #64748b;
            cursor: not-allowed;
        }
        
        .page-info {
            color: #cbd5e1;
            font-weight: 500;
        }
        
        /* Modals */
        .modal-backdrop {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: var(--sidebar);
            padding: 30px;
            border-radius: 15px;
            width: 90%;
            max-width: 600px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            color: var(--light);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .modal-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--secondary);
            font-family: 'Montserrat', sans-serif;
        }
        
        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            color: #cbd5e1;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .modal-close:hover {
            color: var(--secondary);
        }
        
        .modal-body {
            margin-bottom: 20px;
        }
        
        .modal-field {
            margin-bottom: 15px;
        }
        
        .modal-label {
            font-weight: 600;
            margin-bottom: 5px;
            display: block;
            color: var(--secondary);
        }
        
        .modal-value {
            padding: 10px;
            background: rgba(0,0,0,0.3);
            border-radius: 5px;
        }
        
        .modal-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            flex-wrap: wrap;
        }
        
        /* Improved Chatbot */
        .chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 100;
        }
        
        .chatbot-toggle {
            width: 60px;
            height: 60px;
            background: var(--secondary);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            overflow: hidden;
        }
        
        .chatbot-avatar {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
        }
        
        .chatbot-toggle:hover {
            transform: scale(1.1);
            background: var(--primary);
        }
        
        .chatbot-window {
            display: none;
            width: 380px;
            height: 520px;
            background: var(--sidebar);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            flex-direction: column;
            position: absolute;
            bottom: 70px;
            right: 0;
            overflow: hidden;
            border: 1px solid rgba(255,255,255,0.1);
        }
        
        .chatbot-header {
            background: var(--primary);
            color: white;
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .chatbot-title {
            font-weight: 600;
            font-size: 1.1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .chatbot-title-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        .chatbot-close {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .chatbot-close:hover {
            transform: scale(1.1);
        }
        
        .chatbot-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .message {
            max-width: 80%;
            padding: 12px 16px;
            margin-bottom: 10px;
            border-radius: 18px;
            word-wrap: break-word;
            position: relative;
        }
        
        .bot-message {
            background: rgba(59, 130, 246, 0.2);
            align-self: flex-start;
            border-bottom-left-radius: 5px;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }
        
        .user-message {
            background: var(--secondary);
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 5px;
        }
        
        .chatbot-input {
            padding: 15px;
            border-top: 1px solid rgba(255,255,255,0.1);
            display: flex;
            background: rgba(0,0,0,0.2);
        }
        
        .chatbot-input input {
            flex: 1;
            padding: 12px 15px;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            margin-right: 10px;
            background: rgba(0,0,0,0.3);
            color: var(--light);
            font-family: 'Poppins', sans-serif;
        }
        
        .chatbot-input input:focus {
            outline: none;
            border-color: var(--secondary);
        }
        
        .chatbot-input button {
            background: var(--secondary);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .chatbot-input button:hover {
            background: var(--primary);
        }
        
        .question-options {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }
        
        .question-btn {
            background: rgba(59, 130, 246, 0.2);
            border: 1px solid rgba(59, 130, 246, 0.3);
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.85rem;
            cursor: pointer;
            transition: all 0.2s ease;
            color: var(--light);
        }
        
        .question-btn:hover {
            background: rgba(59, 130, 246, 0.4);
        }
        
        .typing-indicator {
            display: flex;
            align-items: center;
            gap: 5px;
            padding: 12px 16px;
            background: rgba(59, 130, 246, 0.2);
            border-radius: 18px;
            align-self: flex-start;
            width: fit-content;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }
        
        .typing-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: var(--secondary);
            animation: typing 1.4s infinite ease-in-out;
        }
        
        .typing-dot:nth-child(1) {
            animation-delay: 0s;
        }
        
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes typing {
            0%, 60%, 100% {
                transform: translateY(0);
                opacity: 0.5;
            }
            30% {
                transform: translateY(-5px);
                opacity: 1;
            }
        }
        
        /* Typewriter Effect for Input Fields */
        .typewriter-input {
            position: relative;
            overflow: hidden;
        }
        
        .typewriter-input::after {
            content: '|';
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--secondary);
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0; }
        }
        
        /* Toast Notifications */
        .toast-container {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .toast {
            background: var(--sidebar);
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            padding: 15px;
            display: flex;
            align-items: center;
            max-width: 350px;
            border-left: 4px solid var(--secondary);
            color: var(--light);
            animation: slideInRight 0.3s ease forwards;
            opacity: 0;
            transform: translateX(100%);
            transition: opacity 0.3s, transform 0.3s;
        }
        
        .toast.show {
            opacity: 1;
            transform: translateX(0);
        }
        
        .toast.hide {
            opacity: 0;
            transform: translateX(100%);
        }
        
        .toast.success {
            border-left-color: var(--accent);
        }
        
        .toast.error {
            border-left-color: var(--danger);
        }
        
        .toast.info {
            border-left-color: var(--secondary);
        }
        
        .toast.warning {
            border-left-color: #f59e0b;
        }
        
        .toast-icon {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            color: white;
            font-size: 12px;
        }
        
        .toast.success .toast-icon {
            background: var(--accent);
        }
        
        .toast.error .toast-icon {
            background: var(--danger);
        }
        
        .toast.info .toast-icon {
            background: var(--secondary);
        }
        
        .toast.warning .toast-icon {
            background: #f59e0b;
        }
        
        .toast-content {
            flex: 1;
        }
        
        .toast-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .toast-message {
            color: #cbd5e1;
            font-size: 0.9rem;
        }
        
        .toast-close {
            background: none;
            border: none;
            color: #cbd5e1;
            cursor: pointer;
            margin-left: 10px;
            font-size: 14px;
            transition: all 0.2s ease;
        }
        
        .toast-close:hover {
            color: var(--secondary);
        }
        
        @keyframes slideInRight {
            from {
                transform: translateX(100%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        /* Chart Container */
        .chart-container {
            background: var(--sidebar);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
            height: 300px;
            position: relative;
        }
        
        /* Form Controls */
        .form-control {
            background: rgba(0,0,0,0.3);
            border: 1px solid rgba(255,255,255,0.1);
            color: var(--light);
            padding: 10px 15px;
            border-radius: 5px;
            width: 100%;
            font-family: 'Poppins', sans-serif;
        }
        
        .form-control:focus {
            background: rgba(0,0,0,0.5);
            border-color: var(--secondary);
            color: var(--light);
            box-shadow: 0 0 0 0.2rem rgba(59, 130, 246, 0.25);
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 2.2rem;
            }
            
            .section-title {
                font-size: 2rem;
                padding-left: 0;
                text-align: center;
            }
            
            .section-title::after {
                left: 50%;
                transform: translateX(-50%);
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .chatbot-window {
                width: 320px;
                height: 450px;
            }
            
            .admin-sidebar {
                width: 70px;
            }
            
            .admin-sidebar .nav-text {
                display: none;
            }
            
            .admin-content {
                margin-left: 70px;
                width: calc(100% - 70px);
            }
            
            .admin-table {
                display: block;
                overflow-x: auto;
            }
            
            .modal-actions {
                justify-content: center;
            }
            
            .black-hole {
                width: 500px;
                height: 500px;
            }
            
            .black-hole::before {
                width: 350px;
                height: 350px;
            }
            
            .black-hole::after {
                width: 200px;
                height: 200px;
            }
        }
        
        @media (max-width: 576px) {
            .hero {
                padding: 100px 0;
            }
            
            .hero h1 {
                font-size: 1.8rem;
            }
            
            .section {
                padding: 60px 0;
            }
            
            .chatbot-window {
                width: 280px;
                right: -20px;
            }
            
            .modal-actions {
                flex-direction: column;
            }
            
            .stats-cards {
                grid-template-columns: 1fr;
            }
            
            .black-hole {
                width: 400px;
                height: 400px;
            }
            
            .black-hole::before {
                width: 250px;
                height: 250px;
            }
            
            .black-hole::after {
                width: 150px;
                height: 150px;
            }
        }
    </style>
</head>
<body>
    <!-- Constellation Background with Black Hole -->
    <div class="background">
        <div class="black-hole"></div>
        <div class="constellation" id="constellation"></div>
    </div>

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg" id="mainNavbar">
        <div class="container">
            <a class="navbar-brand" href="#">Yuuji</a>
            <div class="navbar-nav ms-auto">
                <button class="admin-btn" id="adminToggle">
                    <i class="fas fa-user-shield me-1"></i> Restricted Access
                </button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="main-content" id="mainContent">
        <!-- Hero Section -->
        <section class="hero" id="home">
            <div class="container">
                <h1>Yuuji</h1>
                <p>Digital Solutions</p>
                <div class="hero-buttons">
                    <button class="btn btn-primary" id="getQuoteBtn">Let's Build</button>
                    <button class="btn btn-outline-primary" id="inquireBtn">Inquire</button>
                </div>
            </div>
        </section>

        <!-- Services Section -->
        <section class="section" id="services">
            <div class="container">
                <h2 class="section-title">My Services</h2>
                <div class="row">
                    <div class="col-lg-6 mb-4">
                        <div class="card service-card">
                            <div class="card-body">
                                <div class="service-icon">
                                    <i class="fas fa-code"></i>
                                </div>
                                <h3>Web Development</h3>
                                <p>Custom web applications built with modern technologies</p>
                                <ul class="service-list mt-4">
                                    <li>Frontend Development (HTML, CSS, JavaScript)</li>
                                    <li>Personal Portfolio</li>
                                    <li>Company Profile</li>
                                    <li>Photography / Art Gallery</li>
                                    <li>E-commerce</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6 mb-4">
                        <div class="card service-card">
                            <div class="card-body">
                                <div class="service-icon">
                                    <i class="fas fa-cogs"></i>
                                </div>
                                <h3>System Development</h3>
                                <p>Custom software solutions for business needs</p>
                                <ul class="service-list mt-4">
                                    <li>Inventory Management System</li>
                                    <li>Point of Sale (POS) System</li>
                                    <li>Employee Attendance System</li>
                                    <li>Cleaning Management System</li>
                                    <li>Clinic Management System</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section class="section" id="projects">
            <div class="container">
                <h2 class="section-title">My Projects</h2>
                <div class="row">
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="card">
                            <div class="project-img company">
                                <i class="fas fa-building"></i>
                            </div>
                            <div class="card-body">
                                <h4>Company Profile</h4>
                                <p>A construction company website showcasing services, completed projects, and company expertise.</p>
                                <div class="mt-3">
                                    <span class="badge bg-primary me-1">HTML</span>
                                    <span class="badge bg-primary me-1">CSS</span>
                                    <span class="badge bg-primary">JavaScript</span>
                                    <span class="badge bg-primary">Netlify</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="card">
                            <div class="project-img ecommerce">
                                <i class="fas fa-shopping-cart"></i>
                            </div>
                            <div class="card-body">
                                <h4>E-commerce</h4>
                                <p>An online store selling a variety of stylish and comfortable shorts, featuring product listings, categories, and an easy-to-use shopping experience.</p>
                                <div class="mt-3">
                                    <span class="badge bg-primary me-1">HTML</span>
                                    <span class="badge bg-primary me-1">CSS</span>
                                    <span class="badge bg-primary">JavaScript</span>
                                    <span class="badge bg-primary">Netlify</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 col-md-6 mb-4">
                        <div class="card">
                            <div class="project-img management">
                                <i class="fas fa-tasks"></i>
                            </div>
                            <div class="card-body">
                                <h4>Management System</h4>
                                <p>A system to manage cleaning services, track tasks, schedules, and staff assignments for efficient facility maintenance.</p>
                                <div class="mt-3">
                                    <span class="badge bg-primary me-1">JavaScript</span>
                                    <span class="badge bg-primary me-1">HTML</span>
                                    <span class="badge bg-primary">Netlify</span>
                                    <span class="badge bg-primary">CSS</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="container">
                <p>&copy; 2025 Yuuji. All rights reserved.</p>
            </div>
        </footer>
    </div>

    <!-- Quote Modal -->
    <div class="modal-backdrop" id="quoteModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Get a Quote</h3>
                <button class="modal-close" id="closeQuoteModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="quoteForm">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="modal-field">
                                <label for="quoteName" class="modal-label">Your Name</label>
                                <input type="text" class="form-control typewriter-input" id="quoteName" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="modal-field">
                                <label for="quoteEmail" class="modal-label">Email Address</label>
                                <input type="email" class="form-control typewriter-input" id="quoteEmail" required>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="modal-field">
                                <label for="projectName" class="modal-label">Name of Project</label>
                                <input type="text" class="form-control typewriter-input" id="projectName" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="modal-field">
                                <label for="quoteBudget" class="modal-label">Budget (â‚±)</label>
                                <input type="number" class="form-control typewriter-input" id="quoteBudget" required>
                            </div>
                        </div>
                    </div>
                    <div class="modal-field">
                        <label for="quoteDeadline" class="modal-label">Desired Deadline</label>
                        <input type="date" class="form-control" id="quoteDeadline" required>
                    </div>
                    <div class="modal-field">
                        <label for="projectDescription" class="modal-label">Project Description</label>
                        <textarea class="form-control typewriter-input" id="projectDescription" rows="4" required></textarea>
                    </div>
                    <div class="text-center">
                        <button type="button" class="btn btn-primary" id="submitQuote">Submit Quote Request</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Inquire Modal -->
    <div class="modal-backdrop" id="inquireModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Inquire</h3>
                <button class="modal-close" id="closeInquireModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="inquireForm">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="modal-field">
                                <label for="inquireName" class="modal-label">Your Name</label>
                                <input type="text" class="form-control typewriter-input" id="inquireName" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="modal-field">
                                <label for="inquireEmail" class="modal-label">Email Address</label>
                                <input type="email" class="form-control typewriter-input" id="inquireEmail" required>
                            </div>
                        </div>
                    </div>
                    <div class="modal-field">
                        <label for="inquireSubject" class="modal-label">Subject</label>
                        <input type="text" class="form-control typewriter-input" id="inquireSubject" required>
                    </div>
                    <div class="modal-field">
                        <label for="inquireMessage" class="modal-label">Message</label>
                        <textarea class="form-control typewriter-input" id="inquireMessage" rows="5" required></textarea>
                    </div>
                    <div class="text-center">
                        <button type="button" class="btn btn-primary" id="submitInquire">Send Message</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Improved Chatbot with Avatar Images -->
    <div class="chatbot-container" id="chatbotContainer">
        <div class="chatbot-toggle" id="chatbotToggle">
            <img src="images/avataaars2.png" alt="Yuuji Avatar" class="chatbot-avatar">
        </div>
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">
                <div class="chatbot-title">
                    <img src="images/avataaars1.png" alt="Yuuji Avatar" class="chatbot-title-avatar">
                    Yuuji Assistant
                </div>
                <button class="chatbot-close" id="chatbotClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="chatbot-messages" id="chatbotMessages">
                <div class="message bot-message">
                    <p>Hello! I'm Yuuji's assistant. How can I help you today?</p>
                    <div class="question-options">
                        <button class="question-btn" data-question="What services do you offer?">Services</button>
                        <button class="question-btn" data-question="Tell me about your projects">Projects</button>
                        <button class="question-btn" data-question="How can I contact you?">Contact</button>
                        <button class="question-btn" data-question="What are your skills?">Skills</button>
                    </div>
                </div>
            </div>
            <div class="chatbot-input">
                <input type="text" id="chatbotInput" placeholder="Ask me anything...">
                <button id="chatbotSend">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div class="admin-panel" id="adminPanel">
        <div class="admin-sidebar">
            <div class="admin-logo">
                <h3><i class="fas fa-user-shield me-2"></i> Admin</h3>
            </div>
            <div class="admin-nav">
                <a href="#" class="admin-nav-item active" data-section="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span class="nav-text">Dashboard</span>
                </a>
                <a href="#" class="admin-nav-item" data-section="projectRequests">
                    <i class="fas fa-project-diagram"></i>
                    <span class="nav-text">Project Requests</span>
                </a>
                <a href="#" class="admin-nav-item" data-section="messages">
                    <i class="fas fa-envelope"></i>
                    <span class="nav-text">Messages</span>
                </a>
                <a href="#" class="admin-nav-item" data-section="clients">
                    <i class="fas fa-users"></i>
                    <span class="nav-text">Clients</span>
                </a>
                <a href="#" class="admin-nav-item" data-section="settings">
                    <i class="fas fa-cog"></i>
                    <span class="nav-text">Settings</span>
                </a>
            </div>
        </div>
        <div class="admin-content">
            <div class="admin-header">
                <h1 class="admin-title" id="adminSectionTitle">Dashboard</h1>
                <div class="admin-user">
                    <div class="admin-avatar">
                        <i class="fas fa-user"></i>
                    </div>
                    <span>Admin User</span>
                    <button class="logout-btn" id="logoutBtn">
                        <i class="fas fa-sign-out-alt me-1"></i> Logout
                    </button>
                </div>
            </div>
            
            <!-- Dashboard Section -->
            <div class="admin-section" id="dashboardSection">
                <div class="stats-cards">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="newMessagesCount">0</h3>
                            <p>New Messages</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-project-diagram"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalProjects">0</h3>
                            <p>Total Projects</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-tasks"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="pendingProjects">0</h3>
                            <p>Pending Projects</p>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-money-bill-wave"></i>
                        </div>
                        <div class="stat-info">
                            <h3 id="totalEarnings">â‚±0</h3>
                            <p>Total Earnings</p>
                        </div>
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-md-8">
                        <h3 class="mb-3">Recent Activities</h3>
                        <div class="activity-list" id="activityList">
                            <!-- Activities will be loaded here -->
                        </div>
                    </div>
                    <div class="col-md-4">
                        <h3 class="mb-3">Analytics</h3>
                        <div class="chart-container">
                            <canvas id="analyticsChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Project Requests Section -->
            <div class="admin-section" id="projectRequestsSection" style="display: none;">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h3>Project Requests</h3>
                </div>
                <div class="table-responsive">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>Client Name</th>
                                <th>Project</th>
                                <th>Budget</th>
                                <th>Deadline</th>
                                <th>Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="projectRequestsTableBody">
                            <!-- Project requests will be loaded here -->
                        </tbody>
                    </table>
                </div>
                <div class="pagination-controls" id="projectRequestsPagination" style="display: none;">
                    <button class="page-btn" id="prevProjectRequestsPage">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <span class="page-info" id="projectRequestsPageInfo">Page 1 of 1</span>
                    <button class="page-btn" id="nextProjectRequestsPage">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
            
            <!-- Messages Section -->
            <div class="admin-section" id="messagesSection" style="display: none;">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h3>All Messages</h3>
                    <div class="btn-group">
                        <button class="btn btn-outline-primary active" data-filter="all">All</button>
                        <button class="btn btn-outline-primary" data-filter="unread">Unread</button>
                        <button class="btn btn-outline-primary" data-filter="read">Read</button>
                    </div>
                </div>
                <div class="table-responsive">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Subject</th>
                                <th>Date</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="messagesTableBody">
                            <!-- Messages will be loaded here -->
                        </tbody>
                    </table>
                </div>
                <div class="pagination-controls" id="messagesPagination" style="display: none;">
                    <button class="page-btn" id="prevMessagesPage">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <span class="page-info" id="messagesPageInfo">Page 1 of 1</span>
                    <button class="page-btn" id="nextMessagesPage">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
            
            <!-- Clients Section -->
            <div class="admin-section" id="clientsSection" style="display: none;">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h3>Client Management</h3>
                    <button class="btn btn-primary" id="addClientBtn">
                        <i class="fas fa-plus me-1"></i> Add Client
                    </button>
                </div>
                <div class="row mb-4">
                    <div class="col-md-4">
                        <div class="card bg-primary text-white">
                            <div class="card-body text-center">
                                <h4 id="activeClients">0</h4>
                                <p>Active Clients</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card bg-success text-white">
                            <div class="card-body text-center">
                                <h4 id="completedProjects">0</h4>
                                <p>Completed Projects</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="card bg-warning text-white">
                            <div class="card-body text-center">
                                <h4 id="inProgressProjects">0</h4>
                                <p>In Progress</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="table-responsive">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>Client Name</th>
                                <th>Project</th>
                                <th>Budget</th>
                                <th>Deadline</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="clientsTableBody">
                            <!-- Clients will be loaded here -->
                        </tbody>
                    </table>
                </div>
                <div class="pagination-controls" id="clientsPagination" style="display: none;">
                    <button class="page-btn" id="prevClientsPage">
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <span class="page-info" id="clientsPageInfo">Page 1 of 1</span>
                    <button class="page-btn" id="nextClientsPage">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
            
            <!-- Settings Section -->
            <div class="admin-section" id="settingsSection" style="display: none;">
                <h3 class="mb-4">Admin Settings</h3>
                <div class="row">
                    <div class="col-md-6">
                        <div class="card">
                            <div class="card-body">
                                <h5 class="card-title">Delete All Data</h5>
                                <p class="card-text">This action will permanently delete all messages and clients data. This cannot be undone.</p>
                                <button class="btn btn-danger" id="deleteAllData">
                                    <i class="fas fa-trash me-1"></i> Delete All Data
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Login Modal -->
    <div class="modal-backdrop" id="loginModal">
        <div class="modal-content">
            <h3 class="modal-title">Admin Login</h3>
            <p class="login-note">This area is for administrators only.</p>
            <form id="loginForm">
                <div class="mb-3">
                    <input type="text" class="form-control typewriter-input" id="username" placeholder="Username" required>
                </div>
                <div class="mb-3">
                    <input type="password" class="form-control typewriter-input" id="password" placeholder="Password" required>
                </div>
                <div class="mb-3">
                    <input type="password" class="form-control typewriter-input" id="code" placeholder="Code" required>
                </div>
                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" id="cancelLogin">Cancel</button>
                    <button type="submit" class="btn btn-primary">Login</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Logout Confirmation Modal -->
    <div class="modal-backdrop" id="logoutConfirmModal">
        <div class="modal-content">
            <div class="text-center mb-4">
                <i class="fas fa-sign-out-alt fa-4x text-warning"></i>
            </div>
            <h3 class="mb-3 text-center">Are you sure?</h3>
            <p class="mb-4 text-center">Are you sure you want to logout?</p>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="cancelLogout">Cancel</button>
                <button class="btn btn-danger" id="confirmLogout">Logout</button>
            </div>
        </div>
    </div>

    <!-- Message View Modal -->
    <div class="modal-backdrop" id="messageModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Message Details</h3>
                <button class="modal-close" id="closeMessageModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="modal-field">
                    <span class="modal-label">From:</span>
                    <div class="modal-value" id="modalClientName"></div>
                </div>
                <div class="modal-field">
                    <span class="modal-label">Email:</span>
                    <div class="modal-value" id="modalClientEmail"></div>
                </div>
                <div class="modal-field">
                    <span class="modal-label">Subject:</span>
                    <div class="modal-value" id="modalClientSubject"></div>
                </div>
                <div class="modal-field">
                    <span class="modal-label">Message:</span>
                    <div class="modal-value" id="modalClientMessage"></div>
                </div>
            </div>
            <div class="modal-actions" id="modalActions">
                <button class="btn btn-reply" id="replyMessage">
                    <i class="fas fa-reply me-1"></i> Reply
                </button>
                <button class="btn btn-delete" id="deleteMessage">
                    <i class="fas fa-trash me-1"></i> Delete
                </button>
            </div>
        </div>
    </div>

    <!-- Add Client Modal -->
    <div class="modal-backdrop" id="addClientModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Add New Client</h3>
                <button class="modal-close" id="closeAddClientModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="addClientForm">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="modal-field">
                                <label for="clientName" class="modal-label">Client Name</label>
                                <input type="text" class="form-control typewriter-input" id="clientName" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="modal-field">
                                <label for="clientEmail" class="modal-label">Email Address</label>
                                <input type="email" class="form-control typewriter-input" id="clientEmail" required>
                            </div>
                        </div>
                    </div>
                    <div class="modal-field">
                        <label for="clientProject" class="modal-label">Project Name</label>
                        <input type="text" class="form-control typewriter-input" id="clientProject" required>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="modal-field">
                                <label for="clientBudget" class="modal-label">Budget (â‚±)</label>
                                <input type="number" class="form-control typewriter-input" id="clientBudget" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="modal-field">
                                <label for="clientDeadline" class="modal-label">Deadline</label>
                                <input type="date" class="form-control" id="clientDeadline" required>
                            </div>
                        </div>
                    </div>
                    <div class="text-center">
                        <button type="button" class="btn btn-primary" id="saveClient">Save Client</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Client Details Modal -->
    <div class="modal-backdrop" id="clientDetailsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Client Details</h3>
                <button class="modal-close" id="closeClientDetailsModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-4">
                        <div class="modal-field">
                            <span class="modal-label">Client Name:</span>
                            <div class="modal-value" id="detailClientName"></div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="modal-field">
                            <span class="modal-label">Email:</span>
                            <div class="modal-value" id="detailClientEmail"></div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="modal-field">
                            <span class="modal-label">Project:</span>
                            <div class="modal-value" id="detailClientProject"></div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-4">
                        <div class="modal-field">
                            <span class="modal-label">Budget:</span>
                            <div class="modal-value" id="detailClientBudget"></div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="modal-field">
                            <span class="modal-label">Deadline:</span>
                            <div class="modal-value" id="detailClientDeadline"></div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="modal-field">
                            <span class="modal-label">Status:</span>
                            <div class="modal-value">
                                <span class="status-badge" id="detailClientStatus">Pending</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="closeClientModal">Close</button>
            </div>
        </div>
    </div>

    <!-- Delete Confirmation Modal -->
    <div class="modal-backdrop" id="deleteConfirmModal">
        <div class="modal-content">
            <div class="text-center mb-4">
                <i class="fas fa-exclamation-triangle fa-4x text-danger"></i>
            </div>
            <h3 class="mb-3 text-center">Are you sure?</h3>
            <p class="mb-4 text-center" id="deleteConfirmMessage">This action cannot be undone.</p>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="cancelDelete">Cancel</button>
                <button class="btn btn-danger" id="confirmDelete">Delete</button>
            </div>
        </div>
    </div>

    <!-- Edit Client Modal -->
    <div class="modal-backdrop" id="editClientModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Edit Client Details</h3>
                <button class="modal-close" id="closeEditClientModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="editClientForm">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="modal-field">
                                <label for="editClientName" class="modal-label">Client Name</label>
                                <input type="text" class="form-control typewriter-input" id="editClientName" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="modal-field">
                                <label for="editClientEmail" class="modal-label">Email Address</label>
                                <input type="email" class="form-control typewriter-input" id="editClientEmail" required>
                            </div>
                        </div>
                    </div>
                    <div class="modal-field">
                        <label for="editClientProject" class="modal-label">Project Name</label>
                        <input type="text" class="form-control typewriter-input" id="editClientProject" required>
                    </div>
                    <div class="row">
                        <div class="col-md-4">
                            <div class="modal-field">
                                <label for="editClientBudget" class="modal-label">Budget (â‚±)</label>
                                <input type="number" class="form-control typewriter-input" id="editClientBudget" required>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="modal-field">
                                <label for="editClientDeadline" class="modal-label">Deadline</label>
                                <input type="date" class="form-control" id="editClientDeadline" required>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="modal-field">
                                <label for="editClientStatus" class="modal-label">Status</label>
                                <select class="form-control" id="editClientStatus">
                                    <option value="pending">Pending</option>
                                    <option value="accepted">Accepted</option>
                                    <option value="in-progress">In Progress</option>
                                    <option value="completed">Completed</option>
                                    <option value="paid">Paid</option>
                                    <option value="cancelled">Cancelled</option>
                                    <option value="rejected">Rejected</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="cancelEdit">Cancel</button>
                <button class="btn btn-primary" id="saveEdit">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Create constellation background
        function createConstellation() {
            const container = document.getElementById('constellation');
            const starCount = 150;
            const lineCount = 30;
            
            // Create stars
            for (let i = 0; i < starCount; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                
                // Randomly assign size
                const size = Math.random();
                if (size < 0.7) {
                    star.classList.add('small');
                } else if (size < 0.9) {
                    star.classList.add('medium');
                } else {
                    star.classList.add('large');
                }
                
                // Random position
                star.style.left = `${Math.random() * 100}%`;
                star.style.top = `${Math.random() * 100}%`;
                
                // Random animation delay
                star.style.animationDelay = `${Math.random() * 4}s`;
                
                container.appendChild(star);
            }
            
            // Create constellation lines
            for (let i = 0; i < lineCount; i++) {
                const line = document.createElement('div');
                line.classList.add('constellation-line');
                
                // Random start and end points
                const startX = Math.random() * 100;
                const startY = Math.random() * 100;
                const endX = Math.random() * 100;
                const endY = Math.random() * 100;
                
                // Calculate distance and angle
                const dx = endX - startX;
                const dy = endY - startY;
                const length = Math.sqrt(dx * dx + dy * dy);
                const angle = Math.atan2(dy, dx) * 180 / Math.PI;
                
                // Set line properties
                line.style.width = `${length}%`;
                line.style.left = `${startX}%`;
                line.style.top = `${startY}%`;
                line.style.transform = `rotate(${angle}deg)`;
                
                container.appendChild(line);
            }
        }
        
        // Initialize constellation
        createConstellation();
        
        // Data storage
        let messages = JSON.parse(localStorage.getItem('messages')) || [];
        let clients = JSON.parse(localStorage.getItem('clients')) || [];
        let activities = JSON.parse(localStorage.getItem('activities')) || [];
        let currentViewMessageId = null;
        let currentViewClientId = null;
        let deleteType = null; // 'message', 'client', 'all'
        let analyticsChart = null;
        let currentFilter = 'all'; // For message filtering
        
        // Pagination variables
        let currentMessagesPage = 1;
        const messagesPerPage = 5;
        let currentClientsPage = 1;
        const clientsPerPage = 5;
        let currentProjectRequestsPage = 1;
        const projectRequestsPerPage = 5;

        // Toast notification function
        function showToast(title, message, type = 'info') {
            const toastContainer = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            
            const icon = type === 'success' ? 'check' : 
                         type === 'error' ? 'exclamation' : 
                         type === 'warning' ? 'exclamation-triangle' : 'info';
            
            toast.innerHTML = `
                <div class="toast-icon">
                    <i class="fas fa-${icon}"></i>
                </div>
                <div class="toast-content">
                    <div class="toast-title">${title}</div>
                    <div class="toast-message">${message}</div>
                </div>
                <button class="toast-close">
                    <i class="fas fa-times"></i>
                </button>
            `;
            
            toastContainer.appendChild(toast);
            
            // Show the toast with animation
            setTimeout(() => {
                toast.classList.add('show');
            }, 10);
            
            // Auto remove after 5 seconds
            const autoRemove = setTimeout(() => {
                hideToast(toast);
            }, 5000);
            
            // Close button functionality
            toast.querySelector('.toast-close').addEventListener('click', function() {
                clearTimeout(autoRemove);
                hideToast(toast);
            });
            
            // Function to hide toast with animation
            function hideToast(toastElement) {
                toastElement.classList.remove('show');
                toastElement.classList.add('hide');
                setTimeout(() => {
                    if (toastElement.parentNode) {
                        toastElement.parentNode.removeChild(toastElement);
                    }
                }, 300);
            }
        }
        
        // Add activity
        function addActivity(title, description) {
            const activity = {
                id: 'act_' + Date.now(),
                title,
                description,
                date: new Date().toISOString()
            };
            
            activities.unshift(activity);
            if (activities.length > 10) activities = activities.slice(0, 10);
            localStorage.setItem('activities', JSON.stringify(activities));
            
            renderActivities();
        }
        
        // Check for upcoming deadlines
        function checkDeadlines() {
            const now = new Date();
            const upcomingDeadlines = clients.filter(client => {
                if (client.status !== 'completed' && client.status !== 'paid' && client.status !== 'cancelled' && client.status !== 'rejected') {
                    const deadline = new Date(client.deadline);
                    const daysUntilDeadline = Math.ceil((deadline - now) / (1000 * 60 * 60 * 24));
                    return daysUntilDeadline <= 3 && daysUntilDeadline >= 0;
                }
                return false;
            });
            
            if (upcomingDeadlines.length > 0) {
                upcomingDeadlines.forEach(client => {
                    const deadline = new Date(client.deadline);
                    const daysUntilDeadline = Math.ceil((deadline - now) / (1000 * 60 * 60 * 24));
                    
                    if (daysUntilDeadline === 0) {
                        showToast('Deadline Today', `Project "${client.project}" for ${client.name} is due today!`, 'warning');
                    } else if (daysUntilDeadline === 1) {
                        showToast('Deadline Tomorrow', `Project "${client.project}" for ${client.name} is due tomorrow!`, 'warning');
                    } else {
                        showToast('Upcoming Deadline', `Project "${client.project}" for ${client.name} is due in ${daysUntilDeadline} days.`, 'info');
                    }
                });
            }
        }
        
        // Initialize dashboard
        function initDashboard() {
            updateDashboardStats();
            renderActivities();
            renderMessagesTable();
            renderClientsTable();
            renderProjectRequestsTable();
            initAnalytics();
            checkDeadlines();
        }
        
        // Update dashboard statistics
        function updateDashboardStats() {
            // Filter out quote requests from messages count
            const regularMessages = messages.filter(msg => !msg.subject.includes('Quote Request'));
            const newMessages = regularMessages.filter(msg => !msg.read).length;
            
            const totalProjects = clients.length;
            const pendingProjects = clients.filter(client => client.status === 'pending').length;
            
            // Only count paid projects in total earnings
            const totalEarnings = clients.reduce((sum, client) => {
                return client.status === 'paid' ? sum + (client.amount || 0) : sum;
            }, 0);
            
            document.getElementById('newMessagesCount').textContent = newMessages;
            document.getElementById('totalProjects').textContent = totalProjects;
            document.getElementById('pendingProjects').textContent = pendingProjects;
            document.getElementById('totalEarnings').textContent = `â‚±${totalEarnings.toLocaleString()}`;
            
            // Update clients section stats
            const activeClients = clients.filter(client => 
                client.status === 'in-progress' || client.status === 'accepted'
            ).length;
            const completedProjects = clients.filter(client => 
                client.status === 'completed'
            ).length;
            const inProgressProjects = clients.filter(client => 
                client.status === 'in-progress'
            ).length;
            
            document.getElementById('activeClients').textContent = activeClients;
            document.getElementById('completedProjects').textContent = completedProjects;
            document.getElementById('inProgressProjects').textContent = inProgressProjects;
        }
        
        // Render activities - LIMITED TO 2
        function renderActivities() {
            const container = document.getElementById('activityList');
            // Limit to 2 recent activities
            const recentActivities = activities.slice(0, 2);
            
            if (recentActivities.length === 0) {
                container.innerHTML = '<p>No recent activities.</p>';
                return;
            }
            
            container.innerHTML = recentActivities.map(activity => `
                <div class="activity-card">
                    <div class="activity-header">
                        <span class="activity-title">${activity.title}</span>
                        <span class="activity-date">${formatDate(activity.date)}</span>
                    </div>
                    <p class="activity-description">${activity.description}</p>
                </div>
            `).join('');
        }
        
        // Render all messages with pagination (excluding quote requests)
        function renderMessagesTable() {
            const container = document.getElementById('messagesTableBody');
            const paginationContainer = document.getElementById('messagesPagination');
            
            // Filter out quote requests
            let filteredMessages = messages.filter(msg => !msg.subject.includes('Quote Request'));
            
            // Apply filter
            if (currentFilter === 'unread') {
                filteredMessages = filteredMessages.filter(msg => !msg.read);
            } else if (currentFilter === 'read') {
                filteredMessages = filteredMessages.filter(msg => msg.read);
            }
            
            // Calculate pagination
            const totalPages = Math.ceil(filteredMessages.length / messagesPerPage);
            const startIndex = (currentMessagesPage - 1) * messagesPerPage;
            const endIndex = startIndex + messagesPerPage;
            const paginatedMessages = filteredMessages.slice(startIndex, endIndex);
            
            // Update pagination controls
            if (filteredMessages.length > messagesPerPage) {
                paginationContainer.style.display = 'flex';
                document.getElementById('prevMessagesPage').disabled = currentMessagesPage === 1;
                document.getElementById('nextMessagesPage').disabled = currentMessagesPage === totalPages;
                document.getElementById('messagesPageInfo').textContent = `Page ${currentMessagesPage} of ${totalPages}`;
            } else {
                paginationContainer.style.display = 'none';
            }
            
            if (paginatedMessages.length === 0) {
                container.innerHTML = '<tr><td colspan="6" class="text-center">No messages found.</td></tr>';
                return;
            }
            
            container.innerHTML = paginatedMessages.map(message => {
                const messageDate = new Date(message.date);
                const formattedDate = formatDate(message.date);
                
                return `
                <tr>
                    <td>${message.name}</td>
                    <td>${message.email}</td>
                    <td>${message.subject}</td>
                    <td>${formattedDate}</td>
                    <td>
                        <span class="status-badge ${message.read ? 'status-accepted' : 'status-pending'}">
                            ${message.read ? 'Read' : 'Unread'}
                        </span>
                    </td>
                    <td>
                        <div class="btn-group-actions">
                            <button class="btn btn-primary btn-sm view-message" data-id="${message.id}" title="View">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn btn-danger btn-sm delete-message" data-id="${message.id}" title="Delete">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                `;
            }).join('');
            
            // Add event listeners
            document.querySelectorAll('.view-message').forEach(btn => {
                btn.addEventListener('click', function() {
                    const messageId = this.getAttribute('data-id');
                    viewMessage(messageId);
                });
            });
            
            document.querySelectorAll('.delete-message').forEach(btn => {
                btn.addEventListener('click', function() {
                    const messageId = this.getAttribute('data-id');
                    const message = messages.find(msg => msg.id === messageId);
                    if (message) {
                        showDeleteConfirmation('message', `Are you sure you want to delete message from "${message.name}"? This action cannot be undone.`);
                        currentViewMessageId = messageId;
                    }
                });
            });
        }
        
        // Render project requests with pagination
        function renderProjectRequestsTable() {
            const container = document.getElementById('projectRequestsTableBody');
            const paginationContainer = document.getElementById('projectRequestsPagination');
            const projectRequests = messages.filter(msg => 
                msg.subject && msg.subject.includes('Quote Request') && !msg.processed
            );
            
            // Calculate pagination
            const totalPages = Math.ceil(projectRequests.length / projectRequestsPerPage);
            const startIndex = (currentProjectRequestsPage - 1) * projectRequestsPerPage;
            const endIndex = startIndex + projectRequestsPerPage;
            const paginatedRequests = projectRequests.slice(startIndex, endIndex);
            
            // Update pagination controls
            if (projectRequests.length > projectRequestsPerPage) {
                paginationContainer.style.display = 'flex';
                document.getElementById('prevProjectRequestsPage').disabled = currentProjectRequestsPage === 1;
                document.getElementById('nextProjectRequestsPage').disabled = currentProjectRequestsPage === totalPages;
                document.getElementById('projectRequestsPageInfo').textContent = `Page ${currentProjectRequestsPage} of ${totalPages}`;
            } else {
                paginationContainer.style.display = 'none';
            }
            
            if (paginatedRequests.length === 0) {
                container.innerHTML = '<tr><td colspan="6" class="text-center">No project requests found.</td></tr>';
                return;
            }
            
            container.innerHTML = paginatedRequests.map(request => {
                // Extract project details from the request
                const lines = request.message.split('\n');
                let budget = 0;
                let deadline = '';
                
                for (const line of lines) {
                    if (line.includes('Budget:')) {
                        budget = parseInt(line.replace('Budget: â‚±', '').trim());
                    } else if (line.includes('Deadline:')) {
                        deadline = line.replace('Deadline:', '').trim();
                    }
                }
                
                return `
                <tr>
                    <td>${request.name}</td>
                    <td>${request.subject.replace('Quote Request: ', '')}</td>
                    <td>â‚±${budget.toLocaleString()}</td>
                    <td>${deadline}</td>
                    <td>${formatDate(request.date)}</td>
                    <td>
                        <div class="btn-group-actions">
                            <button class="btn btn-accept accept-request" data-id="${request.id}" title="Accept">
                                <i class="fas fa-check"></i>
                            </button>
                            <button class="btn btn-decline decline-request" data-id="${request.id}" title="Decline">
                                <i class="fas fa-times"></i>
                            </button>
                            <button class="btn btn-primary view-request" data-id="${request.id}" title="View">
                                <i class="fas fa-eye"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                `;
            }).join('');
            
            // Add event listeners
            document.querySelectorAll('.view-request').forEach(btn => {
                btn.addEventListener('click', function() {
                    const requestId = this.getAttribute('data-id');
                    viewMessage(requestId);
                });
            });
            
            document.querySelectorAll('.accept-request').forEach(btn => {
                btn.addEventListener('click', function() {
                    const requestId = this.getAttribute('data-id');
                    acceptProjectRequest(requestId);
                });
            });
            
            document.querySelectorAll('.decline-request').forEach(btn => {
                btn.addEventListener('click', function() {
                    const requestId = this.getAttribute('data-id');
                    declineProjectRequest(requestId);
                });
            });
        }
        
        // Accept project request
        function acceptProjectRequest(requestId) {
            const request = messages.find(msg => msg.id === requestId);
            if (!request) return;
            
            // Extract project details from the request
            const lines = request.message.split('\n');
            let budget = 0;
            let deadline = '';
            let projectDetails = '';
            
            for (const line of lines) {
                if (line.includes('Budget:')) {
                    budget = parseInt(line.replace('Budget: â‚±', '').trim());
                } else if (line.includes('Deadline:')) {
                    deadline = line.replace('Deadline:', '').trim();
                } else if (line.includes('Project Details:')) {
                    projectDetails = line.replace('Project Details:', '').trim();
                }
            }
            
            // Create a new client with pending status
            const client = {
                id: 'client_' + Date.now(),
                name: request.name,
                email: request.email,
                project: projectDetails || request.subject.replace('Quote Request: ', ''),
                amount: budget,
                status: 'pending',
                date: new Date().toISOString(),
                deadline: deadline ? new Date(deadline).toISOString() : new Date().toISOString()
            };
            
            clients.push(client);
            localStorage.setItem('clients', JSON.stringify(clients));
            
            // Mark the request as processed
            request.processed = true;
            request.read = true;
            localStorage.setItem('messages', JSON.stringify(messages));
            
            updateDashboardStats();
            renderClientsTable();
            renderProjectRequestsTable();
            initAnalytics();
            addActivity('Project Request Accepted', `Accepted project request from ${request.name}`);
            showToast('Request Accepted', `Project request from ${request.name} has been accepted and added to clients`, 'success');
        }
        
        // Decline project request
        function declineProjectRequest(requestId) {
            const request = messages.find(msg => msg.id === requestId);
            if (!request) return;
            
            // Mark the request as processed
            request.processed = true;
            request.read = true;
            localStorage.setItem('messages', JSON.stringify(messages));
            
            updateDashboardStats();
            renderProjectRequestsTable();
            addActivity('Project Request Declined', `Declined project request from ${request.name}`);
            showToast('Request Declined', `Project request from ${request.name} has been declined`, 'info');
        }
        
        // Render clients table with pagination
        function renderClientsTable() {
            const container = document.getElementById('clientsTableBody');
            const paginationContainer = document.getElementById('clientsPagination');
            
            // Calculate pagination
            const totalPages = Math.ceil(clients.length / clientsPerPage);
            const startIndex = (currentClientsPage - 1) * clientsPerPage;
            const endIndex = startIndex + clientsPerPage;
            const paginatedClients = clients.slice(startIndex, endIndex);
            
            // Update pagination controls
            if (clients.length > clientsPerPage) {
                paginationContainer.style.display = 'flex';
                document.getElementById('prevClientsPage').disabled = currentClientsPage === 1;
                document.getElementById('nextClientsPage').disabled = currentClientsPage === totalPages;
                document.getElementById('clientsPageInfo').textContent = `Page ${currentClientsPage} of ${totalPages}`;
            } else {
                paginationContainer.style.display = 'none';
            }
            
            if (paginatedClients.length === 0) {
                container.innerHTML = '<tr><td colspan="6" class="text-center">No clients yet.</td></tr>';
                return;
            }
            
            container.innerHTML = paginatedClients.map(client => {
                let statusClass = '';
                let statusText = '';
                
                switch(client.status) {
                    case 'accepted':
                        statusClass = 'status-accepted';
                        statusText = 'Accepted';
                        break;
                    case 'in-progress':
                        statusClass = 'status-in-progress';
                        statusText = 'In Progress';
                        break;
                    case 'completed':
                        statusClass = 'status-completed';
                        statusText = 'Completed';
                        break;
                    case 'paid':
                        statusClass = 'status-paid';
                        statusText = 'Paid';
                        break;
                    case 'cancelled':
                        statusClass = 'status-cancelled';
                        statusText = 'Cancelled';
                        break;
                    case 'rejected':
                        statusClass = 'status-rejected';
                        statusText = 'Rejected';
                        break;
                    default:
                        statusClass = 'status-pending';
                        statusText = 'Pending';
                }
                
                return `
                <tr>
                    <td>${client.name}</td>
                    <td>${client.project}</td>
                    <td>â‚±${client.amount ? client.amount.toLocaleString() : '0'}</td>
                    <td>${formatDate(client.deadline)}</td>
                    <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                    <td>
                        <div class="btn-group-actions">
                            <button class="btn btn-primary btn-sm view-client" data-id="${client.id}" title="View">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn btn-warning btn-sm edit-client" data-id="${client.id}" title="Edit">
                                <i class="fas fa-edit"></i>
                            </button>
                            ${client.status === 'completed' ? `
                            <button class="btn btn-paid btn-sm mark-paid" data-id="${client.id}" title="Mark as Paid">
                                <i class="fas fa-money-bill"></i>
                            </button>
                            ` : ''}
                            <button class="btn btn-danger btn-sm delete-client" data-id="${client.id}" title="Delete">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    </td>
                </tr>
                `;
            }).join('');
            
            // Add event listeners
            document.querySelectorAll('.view-client').forEach(btn => {
                btn.addEventListener('click', function() {
                    const clientId = this.getAttribute('data-id');
                    viewClient(clientId);
                });
            });
            
            document.querySelectorAll('.edit-client').forEach(btn => {
                btn.addEventListener('click', function() {
                    const clientId = this.getAttribute('data-id');
                    editClientDirectly(clientId);
                });
            });
            
            document.querySelectorAll('.mark-paid').forEach(btn => {
                btn.addEventListener('click', function() {
                    const clientId = this.getAttribute('data-id');
                    markClientAsPaid(clientId);
                });
            });
            
            document.querySelectorAll('.delete-client').forEach(btn => {
                btn.addEventListener('click', function() {
                    const clientId = this.getAttribute('data-id');
                    const client = clients.find(c => c.id === clientId);
                    if (client) {
                        showDeleteConfirmation('client', `Are you sure you want to delete client "${client.name}"? This action cannot be undone.`);
                        currentViewClientId = clientId;
                    }
                });
            });
        }
        
        // Mark client as paid
        function markClientAsPaid(clientId) {
            const client = clients.find(c => c.id === clientId);
            if (client) {
                client.status = 'paid';
                localStorage.setItem('clients', JSON.stringify(clients));
                
                updateDashboardStats();
                renderClientsTable();
                initAnalytics();
                addActivity('Client Marked as Paid', `Marked ${client.name}'s project as paid`);
                showToast('Marked as Paid', `Marked ${client.name}'s project as paid`, 'success');
            }
        }
        
        // Format date
        function formatDate(dateString) {
            const options = { year: 'numeric', month: 'short', day: 'numeric' };
            return new Date(dateString).toLocaleDateString(undefined, options);
        }
        
        // Format time
        function formatTime(dateString) {
            const options = { hour: '2-digit', minute: '2-digit' };
            return new Date(dateString).toLocaleTimeString(undefined, options);
        }
        
        // View message in modal
        function viewMessage(messageId) {
            const message = messages.find(msg => msg.id === messageId);
            if (!message) return;
            
            // Mark as read
            if (!message.read) {
                message.read = true;
                localStorage.setItem('messages', JSON.stringify(messages));
                updateDashboardStats();
                renderMessagesTable();
                renderProjectRequestsTable();
                addActivity('Message Read', `Marked message from ${message.name} as read`);
                showToast('Message Read', `Marked message from ${message.name} as read`, 'success');
            }
            
            // Populate modal
            document.getElementById('modalClientName').textContent = message.name;
            document.getElementById('modalClientEmail').textContent = message.email;
            document.getElementById('modalClientSubject').textContent = message.subject;
            document.getElementById('modalClientMessage').textContent = message.message;
            
            currentViewMessageId = messageId;
            document.getElementById('messageModal').style.display = 'flex';
        }
        
        // Delete message
        function deleteMessage(messageId) {
            const message = messages.find(msg => msg.id === messageId);
            if (message) {
                messages = messages.filter(msg => msg.id !== messageId);
                localStorage.setItem('messages', JSON.stringify(messages));
                
                updateDashboardStats();
                renderMessagesTable();
                renderProjectRequestsTable();
                addActivity('Message Deleted', `Deleted message from ${message.name}`);
                showToast('Message Deleted', `Deleted message from ${message.name}`, 'info');
            }
        }
        
        // Reply to message
        function replyToMessage(messageId) {
            const message = messages.find(msg => msg.id === messageId);
            if (message) {
                window.location.href = `mailto:${message.email}?subject=Re: ${message.subject}`;
                addActivity('Message Replied', `Replied to message from ${message.name}`);
                showToast('Reply Started', 'Opening email client to reply to message', 'success');
            }
        }
        
        // View client details
        function viewClient(clientId) {
            const client = clients.find(c => c.id === clientId);
            if (!client) return;
            
            currentViewClientId = clientId;
            
            // Populate modal
            document.getElementById('detailClientName').textContent = client.name;
            document.getElementById('detailClientEmail').textContent = client.email;
            document.getElementById('detailClientProject').textContent = client.project;
            document.getElementById('detailClientBudget').textContent = `â‚±${client.amount ? client.amount.toLocaleString() : '0'}`;
            document.getElementById('detailClientDeadline').textContent = formatDate(client.deadline);
            
            // Set status badge
            const statusElement = document.getElementById('detailClientStatus');
            statusElement.textContent = client.status === 'accepted' ? 'Accepted' : 
                                      client.status === 'in-progress' ? 'In Progress' : 
                                      client.status === 'completed' ? 'Completed' : 
                                      client.status === 'paid' ? 'Paid' : 
                                      client.status === 'cancelled' ? 'Cancelled' : 
                                      client.status === 'rejected' ? 'Rejected' : 'Pending';
            statusElement.className = `status-badge ${
                client.status === 'accepted' ? 'status-accepted' : 
                client.status === 'in-progress' ? 'status-in-progress' : 
                client.status === 'completed' ? 'status-completed' : 
                client.status === 'paid' ? 'status-paid' : 
                client.status === 'cancelled' ? 'status-cancelled' : 
                client.status === 'rejected' ? 'status-rejected' : 'status-pending'
            }`;
            
            document.getElementById('clientDetailsModal').style.display = 'flex';
        }
        
        // Edit client directly from table
        function editClientDirectly(clientId) {
            const client = clients.find(c => c.id === clientId);
            if (!client) return;
            
            currentViewClientId = clientId;
            
            // Populate edit modal
            document.getElementById('editClientName').value = client.name;
            document.getElementById('editClientEmail').value = client.email;
            document.getElementById('editClientProject').value = client.project;
            document.getElementById('editClientBudget').value = client.amount || '';
            document.getElementById('editClientDeadline').value = client.deadline.split('T')[0];
            document.getElementById('editClientStatus').value = client.status;
            
            document.getElementById('editClientModal').style.display = 'flex';
        }
        
        // Save edited client details
        function saveEditedClient() {
            const client = clients.find(c => c.id === currentViewClientId);
            if (client) {
                client.name = document.getElementById('editClientName').value;
                client.email = document.getElementById('editClientEmail').value;
                client.project = document.getElementById('editClientProject').value;
                client.amount = parseInt(document.getElementById('editClientBudget').value);
                client.deadline = new Date(document.getElementById('editClientDeadline').value).toISOString();
                client.status = document.getElementById('editClientStatus').value;
                
                localStorage.setItem('clients', JSON.stringify(clients));
                
                updateDashboardStats();
                renderClientsTable();
                initAnalytics();
                addActivity('Client Details Updated', `Updated details for ${client.name}`);
                showToast('Client Updated', `Updated details for ${client.name}`, 'success');
                document.getElementById('editClientModal').style.display = 'none';
            }
        }
        
        // Delete client
        function deleteClient() {
            const client = clients.find(c => c.id === currentViewClientId);
            if (client) {
                clients = clients.filter(c => c.id !== currentViewClientId);
                localStorage.setItem('clients', JSON.stringify(clients));
                
                updateDashboardStats();
                renderClientsTable();
                initAnalytics();
                addActivity('Client Deleted', `Deleted client ${client.name}`);
                showToast('Client Deleted', `Deleted client ${client.name}`, 'info');
            }
        }
        
        // Add new client
        function addNewClient() {
            const name = document.getElementById('clientName').value;
            const email = document.getElementById('clientEmail').value;
            const project = document.getElementById('clientProject').value;
            const budget = parseInt(document.getElementById('clientBudget').value);
            const deadline = document.getElementById('clientDeadline').value;
            
            if (name && email && project && budget && deadline) {
                const client = {
                    id: 'client_' + Date.now(),
                    name,
                    email,
                    project,
                    amount: budget,
                    status: 'pending', // Set to pending by default
                    date: new Date().toISOString(),
                    deadline: new Date(deadline).toISOString()
                };
                
                clients.push(client);
                localStorage.setItem('clients', JSON.stringify(clients));
                
                updateDashboardStats();
                renderClientsTable();
                initAnalytics();
                addActivity('Client Added', `Added new client ${name}`);
                showToast('Client Added', `Added new client ${name}`, 'success');
                document.getElementById('addClientModal').style.display = 'none';
                document.getElementById('addClientForm').reset();
            } else {
                showToast('Missing Information', 'Please fill in all fields', 'error');
            }
        }
        
        // Initialize analytics
        function initAnalytics() {
            // Create chart
            const ctx = document.getElementById('analyticsChart').getContext('2d');
            
            // Get last 7 days
            const last7Days = [];
            for (let i = 6; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                last7Days.push(date.toISOString().split('T')[0]);
            }
            
            // Count inquiries per day (excluding quote requests)
            const dailyInquiries = last7Days.map(day => {
                return messages.filter(msg => {
                    const msgDate = new Date(msg.date).toISOString().split('T')[0];
                    return msgDate === day && !msg.subject.includes('Quote Request');
                }).length;
            });
            
            // Count project requests per day
            const dailyProjects = last7Days.map(day => {
                return clients.filter(client => {
                    const clientDate = new Date(client.date).toISOString().split('T')[0];
                    return clientDate === day;
                }).length;
            });
            
            // Destroy existing chart if it exists
            if (analyticsChart) {
                analyticsChart.destroy();
            }
            
            analyticsChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: last7Days.map(day => {
                        const date = new Date(day);
                        return date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' });
                    }),
                    datasets: [{
                        label: 'Inquiries',
                        data: dailyInquiries,
                        backgroundColor: 'rgba(59, 130, 246, 0.2)',
                        borderColor: 'rgba(59, 130, 246, 1)',
                        borderWidth: 2,
                        tension: 0.3,
                        fill: true
                    }, {
                        label: 'Projects',
                        data: dailyProjects,
                        backgroundColor: 'rgba(16, 185, 129, 0.2)',
                        borderColor: 'rgba(16, 185, 129, 1)',
                        borderWidth: 2,
                        tension: 0.3,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: true,
                            text: 'Inquiries & Projects Overview'
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            ticks: {
                                stepSize: 1
                            }
                        }
                    }
                }
            });
        }
        
        // Delete all data
        function deleteAllData() {
            messages = [];
            clients = [];
            activities = [];
            localStorage.removeItem('messages');
            localStorage.removeItem('clients');
            localStorage.removeItem('activities');
            
            updateDashboardStats();
            renderActivities();
            renderMessagesTable();
            renderClientsTable();
            renderProjectRequestsTable();
            initAnalytics();
            addActivity('All Data Deleted', 'All messages, clients, and activities have been deleted');
            showToast('All Data Deleted', 'All data has been successfully deleted', 'info');
        }
        
        // Submit quote
        function submitQuote() {
            const name = document.getElementById('quoteName').value;
            const email = document.getElementById('quoteEmail').value;
            const projectName = document.getElementById('projectName').value;
            const projectDescription = document.getElementById('projectDescription').value;
            const budget = parseInt(document.getElementById('quoteBudget').value);
            const deadline = document.getElementById('quoteDeadline').value;
            
            if (name && email && projectName && projectDescription && budget && deadline) {
                // Create new message
                const newMessage = {
                    id: 'msg_' + Date.now(),
                    name,
                    email,
                    subject: `Quote Request: ${projectName}`,
                    message: `Budget: â‚±${budget}\nDeadline: ${deadline}\n\nProject Details: ${projectDescription}`,
                    date: new Date().toISOString(),
                    read: false,
                    processed: false
                };
                
                messages.push(newMessage);
                localStorage.setItem('messages', JSON.stringify(messages));
                
                document.getElementById('quoteModal').style.display = 'none';
                document.getElementById('quoteForm').reset();
                showToast('Quote Request Sent', 'Thank you for your quote request! I will get back to you soon', 'success');
                
                // If admin is logged in, update the dashboard
                if (document.getElementById('adminPanel').style.display === 'block') {
                    initDashboard();
                }
            } else {
                showToast('Missing Information', 'Please fill in all fields', 'error');
            }
        }
        
        // Submit inquire
        function submitInquire() {
            const name = document.getElementById('inquireName').value;
            const email = document.getElementById('inquireEmail').value;
            const subject = document.getElementById('inquireSubject').value;
            const messageText = document.getElementById('inquireMessage').value;
            
            if (name && email && subject && messageText) {
                // Create new message
                const newMessage = {
                    id: 'msg_' + Date.now(),
                    name,
                    email,
                    subject,
                    message: messageText,
                    date: new Date().toISOString(),
                    read: false
                };
                
                messages.push(newMessage);
                localStorage.setItem('messages', JSON.stringify(messages));
                
                document.getElementById('inquireModal').style.display = 'none';
                document.getElementById('inquireForm').reset();
                showToast('Message Sent', 'Thank you for your message! I will get back to you soon', 'success');
                
                // If admin is logged in, update the dashboard
                if (document.getElementById('adminPanel').style.display === 'block') {
                    initDashboard();
                }
            } else {
                showToast('Missing Information', 'Please fill in all fields', 'error');
            }
        }
        
        // Show delete confirmation
        function showDeleteConfirmation(type, message) {
            deleteType = type;
            document.getElementById('deleteConfirmMessage').textContent = message;
            document.getElementById('deleteConfirmModal').style.display = 'flex';
        }
        
        // Confirm delete action
        function confirmDelete() {
            if (deleteType === 'message') {
                deleteMessage(currentViewMessageId);
                document.getElementById('messageModal').style.display = 'none';
            } else if (deleteType === 'client') {
                deleteClient();
            } else if (deleteType === 'all') {
                deleteAllData();
            }
            document.getElementById('deleteConfirmModal').style.display = 'none';
        }
        
        // Toggle between main site and admin panel
        const adminToggle = document.getElementById('adminToggle');
        const logoutBtn = document.getElementById('logoutBtn');
        const mainContent = document.getElementById('mainContent');
        const adminPanel = document.getElementById('adminPanel');
        const loginModal = document.getElementById('loginModal');
        const loginForm = document.getElementById('loginForm');
        const cancelLogin = document.getElementById('cancelLogin');
        const closeMessageModal = document.getElementById('closeMessageModal');
        const mainNavbar = document.getElementById('mainNavbar');
        const chatbotContainer = document.getElementById('chatbotContainer');
        const logoutConfirmModal = document.getElementById('logoutConfirmModal');
        const cancelLogout = document.getElementById('cancelLogout');
        const confirmLogout = document.getElementById('confirmLogout');
        
        adminToggle.addEventListener('click', function() {
            loginModal.style.display = 'flex';
        });
        
        cancelLogin.addEventListener('click', function() {
            loginModal.style.display = 'none';
        });
        
        closeMessageModal.addEventListener('click', function() {
            document.getElementById('messageModal').style.display = 'none';
        });
        
        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            const code = document.getElementById('code').value;
            
            if (username === 'admin' && password === 'admin123' && code === 'code1904') {
                loginModal.style.display = 'none';
                mainContent.style.display = 'none';
                mainNavbar.style.display = 'none';
                chatbotContainer.style.display = 'none';
                adminPanel.style.display = 'block';
                loginForm.reset();
                initDashboard();
                addActivity('Admin Login', 'Admin user logged in successfully');
                showToast('Login Successful', 'Welcome to the admin panel!', 'success');
            } else {
                showToast('Login Failed', 'Invalid credentials. Please try again', 'error');
            }
        });
        
        logoutBtn.addEventListener('click', function() {
            logoutConfirmModal.style.display = 'flex';
        });
        
        cancelLogout.addEventListener('click', function() {
            logoutConfirmModal.style.display = 'none';
        });
        
        confirmLogout.addEventListener('click', function() {
            adminPanel.style.display = 'none';
            mainContent.style.display = 'block';
            mainNavbar.style.display = 'flex';
            chatbotContainer.style.display = 'block';
            addActivity('Admin Logout', 'Admin user logged out');
            showToast('Logged Out', 'You have been successfully logged out', 'info');
            logoutConfirmModal.style.display = 'none';
        });
        
        // Smooth scrolling for navigation links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                
                const targetId = this.getAttribute('href');
                if (targetId === '#') return;
                
                const targetElement = document.querySelector(targetId);
                if (targetElement) {
                    window.scrollTo({
                        top: targetElement.offsetTop - 80,
                        behavior: 'smooth'
                    });
                }
            });
        });
        
        // Admin panel navigation
        const adminNavItems = document.querySelectorAll('.admin-nav-item');
        const adminSections = document.querySelectorAll('.admin-section');
        const adminSectionTitle = document.getElementById('adminSectionTitle');
        
        adminNavItems.forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Remove active class from all items
                adminNavItems.forEach(navItem => {
                    navItem.classList.remove('active');
                });
                
                // Add active class to clicked item
                this.classList.add('active');
                
                // Get the target section
                const targetSection = this.getAttribute('data-section');
                
                // Hide all sections
                adminSections.forEach(section => {
                    section.style.display = 'none';
                });
                
                // Show target section
                document.getElementById(`${targetSection}Section`).style.display = 'block';
                
                // Update section title
                adminSectionTitle.textContent = this.querySelector('.nav-text').textContent;
            });
        });
        
        // Message filter buttons
        document.querySelectorAll('[data-filter]').forEach(btn => {
            btn.addEventListener('click', function() {
                // Remove active class from all buttons
                document.querySelectorAll('[data-filter]').forEach(b => {
                    b.classList.remove('active');
                });
                
                // Add active class to clicked button
                this.classList.add('active');
                
                // Update current filter
                currentFilter = this.getAttribute('data-filter');
                
                // Reset to first page
                currentMessagesPage = 1;
                
                // Re-render messages
                renderMessagesTable();
            });
        });
        
        // Messages pagination
        document.getElementById('prevMessagesPage').addEventListener('click', function() {
            if (currentMessagesPage > 1) {
                currentMessagesPage--;
                renderMessagesTable();
            }
        });
        
        document.getElementById('nextMessagesPage').addEventListener('click', function() {
            const filteredMessages = messages.filter(msg => !msg.subject.includes('Quote Request'));
            const totalPages = Math.ceil(filteredMessages.length / messagesPerPage);
            if (currentMessagesPage < totalPages) {
                currentMessagesPage++;
                renderMessagesTable();
            }
        });
        
        // Clients pagination
        document.getElementById('prevClientsPage').addEventListener('click', function() {
            if (currentClientsPage > 1) {
                currentClientsPage--;
                renderClientsTable();
            }
        });
        
        document.getElementById('nextClientsPage').addEventListener('click', function() {
            const totalPages = Math.ceil(clients.length / clientsPerPage);
            if (currentClientsPage < totalPages) {
                currentClientsPage++;
                renderClientsTable();
            }
        });
        
        // Project requests pagination
        document.getElementById('prevProjectRequestsPage').addEventListener('click', function() {
            if (currentProjectRequestsPage > 1) {
                currentProjectRequestsPage--;
                renderProjectRequestsTable();
            }
        });
        
        document.getElementById('nextProjectRequestsPage').addEventListener('click', function() {
            const projectRequests = messages.filter(msg => 
                msg.subject && msg.subject.includes('Quote Request') && !msg.processed
            );
            const totalPages = Math.ceil(projectRequests.length / projectRequestsPerPage);
            if (currentProjectRequestsPage < totalPages) {
                currentProjectRequestsPage++;
                renderProjectRequestsTable();
            }
        });
        
        // Delete all data button
        document.getElementById('deleteAllData').addEventListener('click', function() {
            showDeleteConfirmation('all', 'This will permanently delete all messages, clients, and activities. This action cannot be undone.');
        });
        
        // Add client functionality
        const addClientBtn = document.getElementById('addClientBtn');
        const addClientModal = document.getElementById('addClientModal');
        const closeAddClientModal = document.getElementById('closeAddClientModal');
        const saveClient = document.getElementById('saveClient');
        
        addClientBtn.addEventListener('click', function() {
            addClientModal.style.display = 'flex';
        });
        
        closeAddClientModal.addEventListener('click', function() {
            addClientModal.style.display = 'none';
        });
        
        saveClient.addEventListener('click', function() {
            addNewClient();
        });
        
        // Client details modal functionality
        const clientDetailsModal = document.getElementById('clientDetailsModal');
        const closeClientDetailsModal = document.getElementById('closeClientDetailsModal');
        const closeClientModal = document.getElementById('closeClientModal');
        
        closeClientDetailsModal.addEventListener('click', function() {
            clientDetailsModal.style.display = 'none';
        });
        
        closeClientModal.addEventListener('click', function() {
            clientDetailsModal.style.display = 'none';
        });
        
        // Message modal functionality
        const deleteMessageBtn = document.getElementById('deleteMessage');
        const replyMessageBtn = document.getElementById('replyMessage');
        
        deleteMessageBtn.addEventListener('click', function() {
            const message = messages.find(msg => msg.id === currentViewMessageId);
            if (message) {
                showDeleteConfirmation('message', `Are you sure you want to delete message from "${message.name}"? This action cannot be undone.`);
            }
        });
        
        replyMessageBtn.addEventListener('click', function() {
            replyToMessage(currentViewMessageId);
            document.getElementById('messageModal').style.display = 'none';
        });
        
        // Quote modal functionality
        const getQuoteBtn = document.getElementById('getQuoteBtn');
        const quoteModal = document.getElementById('quoteModal');
        const closeQuoteModal = document.getElementById('closeQuoteModal');
        const submitQuoteBtn = document.getElementById('submitQuote');
        
        getQuoteBtn.addEventListener('click', function() {
            quoteModal.style.display = 'flex';
        });
        
        closeQuoteModal.addEventListener('click', function() {
            quoteModal.style.display = 'none';
        });
        
        submitQuoteBtn.addEventListener('click', function() {
            submitQuote();
        });
        
        // Inquire modal functionality
        const inquireBtn = document.getElementById('inquireBtn');
        const inquireModal = document.getElementById('inquireModal');
        const closeInquireModal = document.getElementById('closeInquireModal');
        const submitInquireBtn = document.getElementById('submitInquire');
        
        inquireBtn.addEventListener('click', function() {
            inquireModal.style.display = 'flex';
        });
        
        closeInquireModal.addEventListener('click', function() {
            inquireModal.style.display = 'none';
        });
        
        submitInquireBtn.addEventListener('click', function() {
            submitInquire();
        });
        
        // Delete confirmation modal functionality
        const deleteConfirmModal = document.getElementById('deleteConfirmModal');
        const cancelDelete = document.getElementById('cancelDelete');
        const confirmDeleteBtn = document.getElementById('confirmDelete');
        
        cancelDelete.addEventListener('click', function() {
            deleteConfirmModal.style.display = 'none';
        });
        
        confirmDeleteBtn.addEventListener('click', function() {
            confirmDelete();
        });
        
        // Edit client modal functionality
        const editClientModal = document.getElementById('editClientModal');
        const closeEditClientModal = document.getElementById('closeEditClientModal');
        const cancelEdit = document.getElementById('cancelEdit');
        const saveEditBtn = document.getElementById('saveEdit');
        
        closeEditClientModal.addEventListener('click', function() {
            editClientModal.style.display = 'none';
        });
        
        cancelEdit.addEventListener('click', function() {
            editClientModal.style.display = 'none';
        });
        
        saveEditBtn.addEventListener('click', function() {
            saveEditedClient();
        });
        
        // Enhanced Chatbot functionality
        const chatbotToggle = document.getElementById('chatbotToggle');
        const chatbotWindow = document.getElementById('chatbotWindow');
        const chatbotClose = document.getElementById('chatbotClose');
        const chatbotMessages = document.getElementById('chatbotMessages');
        const chatbotInput = document.getElementById('chatbotInput');
        const chatbotSend = document.getElementById('chatbotSend');
        const questionBtns = document.querySelectorAll('.question-btn');
        
        chatbotToggle.addEventListener('click', function() {
            chatbotWindow.style.display = 'flex';
            chatbotInput.focus();
        });
        
        chatbotClose.addEventListener('click', function() {
            chatbotWindow.style.display = 'none';
        });
        
        // Enhanced bot responses with information from "My Services"
        const botResponses = {
            "hello": { 
                message: "Hello! I'm Yuuji's assistant. How can I help you today?",
                options: ["What services do you offer?", "Tell me about your projects", "How can I contact you?", "What are your skills?"]
            },
            "hi": { 
                message: "Hi there! What can I do for you?",
                options: ["What services do you offer?", "Tell me about your projects", "How can I contact you?", "What are your skills?"]
            },
            "what services do you offer?": { 
                message: "I offer two main categories of services:\n\n1. Web Development: Custom web applications built with modern technologies including Frontend Development (HTML, CSS, JavaScript), Personal Portfolio, Company Profile, Photography/Art Gallery, and E-commerce websites.\n\n2. System Development: Custom software solutions for business needs including Inventory Management System, Point of Sale (POS) System, Employee Attendance System, Cleaning Management System, and Clinic Management System.",
                options: ["Web Development details", "System Development details", "Tell me about your projects", "How can I contact you?"]
            },
            "web development details": { 
                message: "For Web Development, I specialize in:\n- Frontend Development using HTML, CSS, JavaScript\n- Personal Portfolio websites\n- Company Profile websites\n- Photography / Art Gallery websites\n- E-commerce platforms\n\nAll websites are built with modern technologies and are fully responsive.",
                options: ["System Development details", "Tell me about your projects", "How can I contact you?", "Back to services"]
            },
            "system development details": { 
                message: "For System Development, I create custom software solutions including:\n- Inventory Management System\n- Point of Sale (POS) System\n- Employee Attendance System\n- Cleaning Management System\n- Clinic Management System\n\nThese systems are designed to streamline business operations and improve efficiency.",
                options: ["Web Development details", "Tell me about your projects", "How can I contact you?", "Back to services"]
            },
            "tell me about your projects": { 
                message: "I've worked on various projects including:\n\n1. Company Profile: A construction company website showcasing services and completed projects\n2. E-commerce: An online store selling stylish shorts with product listings and categories\n3. Management System: A system to manage cleaning services, track tasks and schedules\n\nAll projects are built with modern technologies like HTML, CSS, JavaScript and deployed on Netlify.",
                options: ["Web Development services", "System Development services", "How can I contact you?", "What are your skills?"]
            },
            "how can i contact you?": { 
                message: "You can contact me through:\n- Messenger: yuuji\n- Email: Use the 'Inquire' button on my website\n- Quote Request: Use the 'Let's Build' button for project quotes\n\nI typically respond within 24 hours. Looking forward to hearing from you!",
                options: ["What services do you offer?", "Tell me about your projects", "What are your skills?", "Back to main menu"]
            },
            "what are your skills?": { 
                message: "My technical skills include:\n- Programming: C#, JavaScript, PHP\n- Databases: MySQL, database design\n- Web Technologies: HTML, CSS, JavaScript\n- Tools: XAMPP, Excel\n- Deployment: Netlify\n\nI have 4 years of experience in full-stack development working on various projects.",
                options: ["What services do you offer?", "Tell me about your projects", "How can I contact you?", "Back to main menu"]
            },
            "default": { 
                message: "I'm not sure how to answer that. Could you please ask about my services, projects, skills, or how to contact me?",
                options: ["What services do you offer?", "Tell me about your projects", "How can I contact you?", "What are your skills?"]
            }
        };
        
        // Function to add a message to the chat
        function addMessage(message, isUser, options = null) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message');
            messageDiv.classList.add(isUser ? 'user-message' : 'bot-message');
            
            if (isUser) {
                messageDiv.textContent = message;
            } else {
                // For bot messages, we can format with paragraphs
                const lines = message.split('\n');
                if (lines.length > 1) {
                    lines.forEach(line => {
                        const p = document.createElement('p');
                        p.textContent = line;
                        p.style.marginBottom = '5px';
                        messageDiv.appendChild(p);
                    });
                } else {
                    messageDiv.textContent = message;
                }
                
                // Add question options for bot messages if provided
                if (options && options.length > 0) {
                    const optionsDiv = document.createElement('div');
                    optionsDiv.classList.add('question-options');
                    
                    options.forEach(option => {
                        const btn = document.createElement('button');
                        btn.classList.add('question-btn');
                        btn.textContent = option;
                        btn.setAttribute('data-question', option);
                        btn.addEventListener('click', function() {
                            addMessage(option, true);
                            setTimeout(() => {
                                processUserMessage(option);
                            }, 500);
                        });
                        optionsDiv.appendChild(btn);
                    });
                    
                    messageDiv.appendChild(optionsDiv);
                }
            }
            
            chatbotMessages.appendChild(messageDiv);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }
        
        // Process user message and generate bot response
        function processUserMessage(message) {
            const lowerMessage = message.toLowerCase();
            let response = botResponses["default"];
            
            // Find the best matching response
            for (const key in botResponses) {
                if (lowerMessage.includes(key.toLowerCase())) {
                    response = botResponses[key];
                    break;
                }
            }
            
            // Show typing indicator
            const typingIndicator = showTypingIndicator();
            
            // Bot response after 1-3 seconds
            setTimeout(() => {
                // Remove typing indicator
                chatbotMessages.removeChild(typingIndicator);
                
                addMessage(response.message, false, response.options);
            }, 1000 + Math.random() * 2000);
        }
        
        // Show typing indicator
        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.classList.add('typing-indicator');
            typingDiv.innerHTML = `
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
                <div class="typing-dot"></div>
            `;
            chatbotMessages.appendChild(typingDiv);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
            return typingDiv;
        }
        
        // Send message when send button is clicked
        chatbotSend.addEventListener('click', function() {
            const message = chatbotInput.value.trim();
            if (message) {
                addMessage(message, true);
                chatbotInput.value = '';
                
                processUserMessage(message);
            }
        });
        
        // Send message when Enter key is pressed
        chatbotInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                chatbotSend.click();
            }
        });
        
        // Handle predefined question buttons
        questionBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                const question = this.getAttribute('data-question');
                addMessage(question, true);
                
                processUserMessage(question);
            });
        });
        
        // Typewriter effect for input fields
        function initTypewriterInputs() {
            const inputs = document.querySelectorAll('.typewriter-input');
            
            inputs.forEach(input => {
                // Add blinking cursor effect
                input.addEventListener('focus', function() {
                    this.parentElement.classList.add('typewriter-input');
                });
                
                input.addEventListener('blur', function() {
                    this.parentElement.classList.remove('typewriter-input');
                });
            });
        }
        
        // Initialize with some sample data if empty
        if (activities.length === 0) {
            addActivity('System Initialized', 'Admin panel has been initialized successfully');
        }
        
        // Initialize analytics on page load
        window.addEventListener('load', function() {
            initAnalytics();
            initTypewriterInputs();
        });
    </script>
</body>
</html>